<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SmartCurric+ Interactive</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<nav>
  <h1>SmartCurric+ <span id="xpCounter" style="font-size:1rem;color:#4f46e5;margin-left:10px;">XP: 0</span></h1>
  <div class="nav-buttons">
    <button class="announcement">Announcement</button>
    <button class="loginBtn">Login</button>
  </div>
</nav>

<!-- Student Section -->
<div id="studentSection">
  <section>
    <div class="cards">
      <div class="card attendance" id="attendanceCard">
        <h2>Attendance</h2>
        <p class="big" id="attendanceValue">92%</p>
        <p>+2% vs last month</p>
      </div>
      <div class="card">
        <h2>Mood Check-In</h2>
        <div class="moods">
          <button>😊</button><button>😐</button><button>😔</button><button>🔥</button><button>😴</button>
        </div>
      </div>
      <div class="card" id="assignmentCard">
        <h2>Smart Assignments</h2>
        <p>AI suggests: 15-min Math quiz</p>
        <button id="assignmentsBtn" style="margin-top:10px;padding:8px 16px;border:none;border-radius:10px;background:#4f46e5;color:#fff;">View Assignments</button>
      </div>
    </div>
  </section>

  <section>
    <h2 style="font-size:1.8rem;font-weight:600;margin-bottom:20px;">Curriculum Progress</h2>
    <div class="cards">
      <div class="card progressCard"><h3>Math</h3><div class="progress-bar"><div class="progress-bar-fill" style="width:40%"></div></div></div>
      <div class="card progressCard"><h3>Science</h3><div class="progress-bar"><div class="progress-bar-fill" style="width:20%"></div></div></div>
      <div class="card progressCard"><h3>English</h3><div class="progress-bar"><div class="progress-bar-fill" style="width:60%"></div></div></div>
      <div class="card progressCard"><h3>History</h3><div class="progress-bar"><div class="progress-bar-fill" style="width:30%"></div></div></div>
    </div>
  </section>

  <section>
    <h2 style="font-size:1.8rem;font-weight:600;margin-bottom:20px;">Weekly Challenges</h2>
    <div class="cards">
      <div class="challenge">Attend 5 days in a row<br><small>+50 XP</small></div>
      <div class="challenge" style="background:linear-gradient(45deg,#22c55e,#3b82f6)">Complete 3 Smart Assignments<br><small>+80 XP</small></div>
      <div class="challenge" style="background:linear-gradient(45deg,#f472b6,#ef4444)">Use Smart Threads atleast once<br><small>+30 XP</small></div>
    </div>
  </section>

  <section>
    <h2 style="font-size:1.8rem;font-weight:600;margin-bottom:20px;">Session Recordings</h2>
    <div class="cards" id="recordingsList"></div>
  </section>

  <section>
  <h2 style="font-size:1.8rem;font-weight:600;margin-bottom:20px;">Weekly Schedule</h2>
  <div class="cards" id="studentScheduleCards"></div>
  </section>

  <section>
    <h2 style="font-size:1.8rem;font-weight:600;margin-bottom:20px;">Smart Threads</h2>
    <div class="threads">
      <input type="text" id="threadInput" placeholder="Ask a doubt...">
      <div id="threadList">
        <div class="thread-item">You asked: “Explain Newton’s 3rd law?”<br><small>AI: Every action has an equal & opposite reaction...</small></div>
      </div>
    </div>
  </section>

  <section>
    <h2 style="font-size:1.8rem;font-weight:600;margin-bottom:20px;">Scan QR Code</h2>
    <div id="reader" style="width:300px;"></div>
    <p id="qrResult" style="margin-top:10px;color:#4f46e5;font-weight:600;"></p>
  </section>
</div>

<!-- Teacher Section -->
<div id="teacherSection" style="display:none; padding:20px;">
  <h2>Teacher Dashboard</h2>

  <div class="teacher-card">
    <h3>Weekly Schedule</h3>
    <div id="teacherScheduleCards" style = "margin: 20px;"></div>
  </div>

  <div class="teacher-card">
  <h3>Upload Notes 📄</h3>
  <label for="sessionSelect">Select Session:</label>
  <select id="sessionSelect"></select>
  <input type="text" id="pdfName" placeholder="PDF Name">
  <input type="file" id="pdfFile" accept="application/pdf">
  <button id="uploadBtn">Add PDF</button>
  <p class="helper-text">This will immediately show up in the students' notes modal.</p>
</div>

  <div class="teacher-card" style="margin-top:20px;">
    <h3>Post Announcement 📢</h3>
    <input type="text" id="announcementInput" placeholder="Type your announcement here..." style="width:100%; padding:8px; margin-bottom:10px;">
    <button id="postAnnouncementBtn">Post Announcement</button>
    <p class="helper-text">Announcement will appear to all students immediately.</p>
  </div>

  <div class="teacher-card" style="margin-top:20px;">
  <h3>Dynamic QR Code 🔑</h3>
  <div>
    <h4>Assessments</h4>
    <div id="assessmentButtons"></div>
  </div>
  <div id="teacherQR" style="margin-top:15px;"></div>
  <p class="helper-text" id="qrHelperText">Select an assignment to display QR. QR will regenerate 10 times.</p>
</div>
</div>

<!-- Parent Section -->
<div id="parentSection" style="display:none; padding:20px;">
  <h2>Parent Dashboard 🏠</h2>

  <div class="parent-card">
    <h3>Student Attendance</h3>
    <p class="big" id="parentAttendance">92%</p>
    <canvas id="parentAttendanceChart" style="width:100%; height:150px; margin-top:10px;"></canvas>
  </div>

  <div class="parent-card">
    <h3>Curriculum Progress</h3>
    <div class="cards">
      <div class="card progressCard"><h4>Math</h4><div class="progress-bar"><div class="progress-bar-fill" style="width:40%"></div></div></div>
      <div class="card progressCard"><h4>Science</h4><div class="progress-bar"><div class="progress-bar-fill" style="width:20%"></div></div></div>
      <div class="card progressCard"><h4>English</h4><div class="progress-bar"><div class="progress-bar-fill" style="width:60%"></div></div></div>
      <div class="card progressCard"><h4>History</h4><div class="progress-bar"><div class="progress-bar-fill" style="width:30%"></div></div></div>
    </div>
  </div>

  <div class="parent-card">
    <h3>Recent Activities</h3>
    <ul id="parentActivities">
      <li>✅ Completed Math Quiz</li>
      <li>✅ Uploaded Science Experiment Summary</li>
      <li>📌 Missed History Assignment</li>
    </ul>
  </div>
</div>

<!-- Toast -->
<div class="toast" id="toast">Mood Saved!</div>

<!-- Modals -->
<div class="modal" id="videoModal">
  <div class="modal-content">
    <h3 id="videoTitle">Video Title</h3>
    <video id="videoPlayer" width="100%" height="200" controls>
      <source src="" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <button onclick="closeVideoModal()">Close</button>
  </div>
</div>

<div class="modal" id="attendanceModal">
  <div class="modal-content">
    <h3>Attendance Over Time</h3>
    <canvas id="attendanceChart" style="width:100%;height:200px;"></canvas>
    <button onclick="closeAttendanceModal()">Close</button>
  </div>
</div>

<div class="modal" id="assignmentsModal">
  <div class="modal-content">
    <h3>Available Smart Assignments</h3>
    <div id="assignmentsList"></div>
    <button onclick="closeAssignmentsModal()">Close</button>
  </div>
</div>

<div class="modal" id="notesModal">
  <div class="modal-content">
    <h3 id="notesTitle">Subject Notes</h3>
    <div id="notesBody" style="text-align:left;max-height:200px;overflow-y:auto;"></div>
    <button onclick="closeNotesModal()">Close</button>
  </div>
</div>

<div class="announcement-popup" id="announcementPopup">
  <h3>Announcements</h3>
  <div id="announcementList"></div>
  <button onclick="closeAnnouncementPopup()">Close</button>
</div>

<!-- Login Modal -->
<div class="login-modal" id="loginModal">
  <div class="login-content">
    <h2>Login</h2>
    <div class="login-tabs">
      <button class="tab-btn active" data-tab="studentTab">Student</button>
      <button class="tab-btn" data-tab="teacherTab">Teacher</button>
      <button class="tab-btn" data-tab="parentTab">Parent</button>
    </div>

    <div class="tab-content" id="studentTab">
      <input type="text" id="loginNameStudent" placeholder="Name">
      <input type="email" id="loginEmailStudent" placeholder="College Email">
      <input type="password" id="loginPasswordStudent" placeholder="Password">
    </div>

    <div class="tab-content" id="teacherTab" style="display:none;">
      <input type="text" id="loginNameTeacher" placeholder="Name">
      <input type="email" id="loginEmailTeacher" placeholder="College Email">
      <input type="password" id="loginPasswordTeacher" placeholder="Password">
    </div>

    <div class="tab-content" id="parentTab" style="display:none;">
      <input type="email" id="loginEmailParent" placeholder="Student's College Email">
      <input type="password" id="loginPasswordParent" placeholder="Student's Password">
    </div>

    <button id="loginSubmit">Login</button>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="script.js"></script>
</body>
</html>
